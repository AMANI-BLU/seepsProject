<!-- student_template/result.html -->
{% extends 'student_template/base.html' %}

{% block title %}Student | Exam Result{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="card shadow" style="margin-top:70px;">
    <div class="card-header bg-info text-white">
      <h2 class="text-center">Exam Result</h2>
    </div>
    <div class="card-body">
      <div class="result-summary mb-4">
        <p class="mb-1">
          <strong class="text-success">Correctly Answered:</strong>
          <span class="text-success font-weight-bold">{{ result.score }}</span>
        </p>
        <p class="mb-1">
          <strong>Total Questions:</strong>
          <span>{{ result.exam.question_set.count }}</span>
        </p>
      </div>

      <!-- Display more result details as needed -->

      {% for question in questions_with_choices %}
        <div class="mb-4">
          <h4>{{ forloop.counter }}) {{ question.content|safe }}</h4>
          <div class="list-group">
            {% for choice in question.choice_set.all %}
              <label class="list-group-item">
                {% if forloop.counter == 1 %}A{% elif forloop.counter == 2 %}B{% elif forloop.counter == 3 %}C{% elif forloop.counter == 4 %}D{% endif %}) {{ choice.text }}
              </label>
            {% endfor %}
          </div>
          
          {% if question.correct_choice %}
            <p class="mt-2">
              <strong class="text-success">Correct Answer:</strong>
              <span class="text-success font-weight-bold">{{ question.correct_choice.text }}</span>
            </p>
          {% endif %}
        </div>
      {% endfor %}
    </div>
    <div class="card-footer text-muted text-center">
      <a href="{% url 'student_home' %}" class="btn btn-primary">Go to Dashboard</a>
    </div>
  </div>
</div>
{% endblock %}
